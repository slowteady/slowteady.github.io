---
emoji: ğŸ“–
title: ë¸”ë¡œê·¸ ìƒì„±ê¸° with Gatsby
date: '2022-01-23 00:00:00'
author: ì´ìš©ë¯¼
tags: ë¸”ë¡œê·¸ github-pages gatsby 
categories: etc
---

![open-blog-1.png](open-blog-1.png)

ìµœê·¼ì— ê°œë°œ ë¸”ë¡œê·¸ì˜ í•„ìš”ì„±ì„ ëŠê¼ˆë‹¤.

ë¦¬ì•¡íŠ¸ ê³µë¶€ë¥¼ ì‹œì‘í•˜ë©´ì„œ ë¨¸ë¦¿ì†ì— ìƒˆë¡œìš´ ê°œë…ë“¤ì´ ë§ˆêµ¬ì¡ì´ë¡œ ì£¼ì…ë˜ëŠ”ë°, ê°œë…ì´ ì •ë¦½ë˜ì§€ ì•Šì•˜ë‹¤.

ê°œë…ì˜ ì •í™•í•œ ì´í•´ë¥¼ ìœ„í•´ ë‚´ìš©ì„ ì •ë¦¬í•˜ë©´ì„œ ì§„í–‰í•´ì•¼ê² ë‹¤ëŠ” ìƒê°ì´ ë“¤ì—ˆê³ , ë¸”ë¡œê·¸ë¥¼ í•´ì•¼ê² ë‹¤ëŠ” ìƒê°ì´ ë“¤ì—ˆë‹¤.

ê´œíˆ ê°œë°œì ì„ ë°°ë‹˜ë“¤ì´ ë¸”ë¡œê·¸ë¥¼ í•˜ëŠ” ê²Œ ì•„ë‹ˆêµ¬ë‚˜ í•˜ëŠ” ìƒê°ì´ ë“¤ì—ˆë‹¤.

***

## 1. Github Pages & Gatsby

ì •ë§ ë§ì€ ë¸”ë¡œê·¸ í”Œë«í¼ì´ ìˆë‹¤. ë…¸ì…˜, í‹°ìŠ¤í† ë¦¬, ë²¨ë¡œê·¸ ë“±ë“±

ì·¨í–¥ê» ê³ ë¥¼ ìˆ˜ ìˆê²Œ ê°ê° íŠ¹ìƒ‰ì´ ìˆì—ˆë‹¤.

ê·¸ì¤‘ì— ë‚´ê°€ ê³ ë¥¸ í”Œë«í¼ì€ ê¹ƒí—™ ë¸”ë¡œê·¸ì´ë‹¤.

ì •í•´ì§„ ë²”ìœ„ ë‚´ì—ì„œì˜ ì»¤ìŠ¤í…€ì´ ì•„ë‹Œ ì „ì²´ë¥¼ ì»¤ìŠ¤í…€ í•  ìˆ˜ ìˆë‹¤ëŠ” ì , ì†ŒìŠ¤ë¥¼ í‘œí˜„í•˜ê¸° ì‰½ë‹¤ëŠ” ì ì´ ë§¤ë ¥ì ì´ì—ˆë‹¤.

ê¹ƒí—™ í˜ì´ì§€ìŠ¤ì—ì„œ í˜¸ìŠ¤íŒ… ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•˜ê¸° ë•Œë¬¸ì— êµ¬ì¶•ì´ ì–´ë µì§€ ì•Šì•˜ë‹¤. ğŸ˜€

ê¹ƒí—™ í˜ì´ì§€ìŠ¤ê°€ í˜¸ìŠ¤íŒ… ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•˜ë‹ˆ í˜ì´ì§€ íŒŒì¼ë“¤ì„ ë§Œë“¤ì–´ì£¼ë©´ ë˜ëŠ”ë°, ì •ì  ì‚¬ì´íŠ¸ ìƒì„±ê¸°ë¥¼ ì´ìš©í•˜ë©´ ë³´ë‹¤ í¸í•˜ê²Œ íŒŒì¼ì„ ìƒì„±í•  ìˆ˜ ìˆë‹¤.

ëŒ€í‘œì ìœ¼ë¡œ Jekyllê³¼ Gatsbyê°€ ìˆë‹¤.

ì§€í‚¬ì€ Rubyë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë™ì‘í•˜ê³ , ê°œì¸ ë¹„ëŠ” Reactì™€ GraphQLë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë™ì‘í•œë‹¤.

í•™ìŠµì¤‘ì¸ ë¦¬ì•¡íŠ¸ë¥¼ ì‚¬ìš©í•  ê¸°íšŒë„ ìˆê³  ë‚˜ì¤‘ì—ëŠ” ë‚˜ë§Œì˜ ë””ìì¸ìœ¼ë¡œ ì´ë£¨ì–´ì§„ ë¸”ë¡œê·¸ë¥¼ ë§Œë“¤ì–´ë³´ê³  ì‹¶ì–´ì„œ ê°œì¸ ë¹„ë¥¼ ì„ íƒí–ˆë‹¤.

*** 

## 2. ì„¤ì¹˜
### 2-1. Template ìƒì„±
ì´ë¯¸ ë‹¤ì–‘í•œ í…œí”Œë¦¿ë“¤ì´ íŒ¨í‚¤ì§€ë¡œ ë§ì´ ë‚˜ì™€ìˆê³  ë¹ ë¥´ê³  ê°„ë‹¨í•˜ê²Œ ì‚¬ìš©í•˜ê³  ì‹¶ì—ˆê¸° ë•Œë¬¸ì— í…œí”Œë¦¿ì„ ì´ìš©í–ˆë‹¤. 

[ì¤Œì½”ë”©](https://github.com/zoomkoding/zoomkoding-gatsby-blog)ë‹˜ì˜ í…œí”Œë¦¿ì´ ë§ˆìŒì— ë“¤ì–´ì„œ ì‚¬ìš©í–ˆë‹¤.   

> ğŸ™‹ğŸ»â€â™‚ï¸ ì˜¤ë˜ëœ í…œí”Œë¦¿ ì‚¬ìš© ì‹œ, package.jsonì˜ dependencyë¼ë¦¬ ì¶©ëŒì´ ì¼ì–´ë‚˜ ì˜¤ë¥˜ê°€ ìƒê¸¸ ìˆ˜ ìˆë‹¤.   
ì´ ê²½ìš°, ë²„ì „ì„ í•˜ë‚˜ì”© ë§ì¶°ê°€ë©´ì„œ ìˆ˜ì •í•´ì£¼ê±°ë‚˜ npmì˜ --force ì˜µì…˜ ë“±ì„ ì´ìš©í•˜ì—¬ í•´ê²°í•´ì•¼í•œë‹¤.

ë‹¤ë¥¸ ìŠ¤íƒ€ì¼ì˜ í…œí”Œë¦¿ì„ ì›í•œë‹¤ë©´ [Gatsby Starters](https://www.gatsbyjs.com/starters)ë¥¼ ì´ìš©í•˜ë©´ ëœë‹¤.

ã…‡ **í…œí”Œë¦¿ ì„¤ì¹˜**
```bash
npm install gatsby-cli
gatsby new blog-start https://github.com/zoomkoding/zoomkoding-gatsby-blog
```

ã…‡ **npm start**
```bash
cd blog-start
npm start
```

### 2-2. Repository ìƒì„±
**${github_id}.github.io**  ì˜ í˜•íƒœë¡œ ë ˆí¬ì§€í† ë¦¬ë¥¼ ìƒì„±í•œë‹¤.

![open-blog-2.png](open-blog-2.png)

### 2-3. git push
ë‚´ ë ˆíŒŒì§€í† ë¦¬ì— pushë¥¼ í•´ì¤€ë‹¤.
```bash
git add .
git commit -m "blog start"
git remote add origin https://github.com/${github_id}/${repository_name}.git
git push -u origin main
```
***

## 3. ë°°í¬
ê¹ƒí—™ í˜ì´ì§€ìŠ¤ë¡œ ë°”ë¡œ deploy ì‹œí‚¤ë©´ ì»´íŒŒì¼ëœ íŒŒì¼ë“¤ë¡œ ë®ì–´ ì”Œì›Œì§€ê¸° ë•Œë¬¸ì— branchë¥¼ ë§Œë“¤ì–´ì•¼í•œë‹¤.

ã…‡ **gh-pages ì„¤ì¹˜**
```bash
npm install gh-pages --save-dev
```

ã…‡ **package.jsonì— script ì¶”ê°€** 
```json
{
  "scripts": {
    "deploy": "gatsby build && gh-pages -d public" 
  }
}
```
ã…‡ **ëª…ë ¹ ì‹¤í–‰**
```bash
npm run deploy
```
ë¥¼ ì‚¬ìš©í•˜ì—¬ ë°°í¬í•  ìˆ˜ ìˆë‹¤.

## 4. ë°°í¬ ìë™í™”
npm run deploy ëª…ë ¹ì–´ë¥¼ í†µí•´ ë°°í¬í•  ìˆ˜ ìˆì§€ë§Œ
ìˆ˜ì • í•  ë•Œ ë§ˆë‹¤ ëª…ë ¹ì„ ì‹¤í–‰í•´ì£¼ê¸°ì—ëŠ” ì€ê·¼íˆ ê·€ì°®ê³  ë²ˆê±°ë¡­ë‹¤.

Github Actionì„ í†µí•˜ì—¬ ë°°í¬ ìë™í™”ë¥¼ í•´ì£¼ë©´, ì»¤ë°‹ í•  ë•Œ ë§ˆë‹¤ ìë™ìœ¼ë¡œ ë°°í¬ê°€ ëœë‹¤.

**settings > Developer settings > Tokens** ë©”ë‰´ë¡œ ê°„ë‹¤.

![open-blog-3.png](open-blog-3.png)

**Generate new token > repo** ë¶€ë¶„ì„ ì²´í¬ í›„ í† í°ì„ ìƒì„±í•˜ê³  token valueë¥¼ ë³µì‚¬í•˜ì—¬ ì €ì¥í•œë‹¤.
> ğŸ™‹ğŸ»â€â™‚ï¸ token valueëŠ” ì¬ë°œê¸‰ì´ ì•ˆë˜ê¸° ë–„ë¬¸ì— ê¼­ ë³µì‚¬í•´ì•¼í•œë‹¤!!

![open-blog-4.png](open-blog-4.png)

**ë¸”ë¡œê·¸ repository > settings > secrets and variables > Action** ë©”ë‰´ì—ì„œ
**New repository secret**ì„ í´ë¦­, ë³€ìˆ˜ë¡œ ì‚¬ìš©í•  ì´ë¦„ì„ ì§€ì •í•˜ê³  token valueë¥¼ ë‚´ìš©ìœ¼ë¡œ ì¶”ê°€í•˜ì—¬
secretsì„ ì¶”ê°€ì‹œì¼œì¤€ë‹¤.

![open-blog-5.png](open-blog-5.png)

**ë¸”ë¡œê·¸ repository > Actions**ë¡œ ì´ë™í•˜ì—¬ **set up a workflow yourself**ë¥¼ í´ë¦­í•œë‹¤.

![open-blog-6.png](open-blog-6.png)

main.yml ì´ë¦„ìœ¼ë¡œ ìƒì„±í•˜ê³ , íŠ¸ë¦¬ê±°ë¥¼ ì‹¤í–‰í•  branchë¥¼ ì„ íƒí•œë‹¤.

```bash
name: Gatsby Publish
on:
  push:
    branches:
      - main
jobs:
  build_gatsby:
    name: deploy
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v1
      - uses: actions/setup-node@v3
        with:
          node-version: '18.x'
      - uses: enriikke/gatsby-gh-pages-action@v2
        with:
          access-token: ${{ secrets.ACCESS_TOKEN }}
          deploy-branch: gh-pages
```
ìœ„ì™€ ê°™ì€ í˜•ì‹ìœ¼ë¡œ ì„¤ì • í•´ì£¼ë©´ë˜ê³ 

secrets.ACCESS_TOKENì€ ì„¤ì •í•œ secrets ë³€ìˆ˜ ì´ë¦„ê³¼ ë§ì¶°ì£¼ë©´ ëœë‹¤.

![open-blog-7.png](open-blog-7.png)

git pushí›„ ì •ìƒì ìœ¼ë¡œ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸í•œë‹¤.

***








```toc

```